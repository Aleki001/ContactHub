<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <meta charset="UTF-8">
    <title>All Users</title>
</head>
<body>
  <div class="container offset-sm-2 col-md-8 mt-lg-5 contactSense">
      <div th:insert="~{layout/navbar}"></div>
      <div class="row mt-2">
          <div th:if="${param.update_success}" class="col-sm-8">
              <p class="alert alert-info alert-dismissible fade show" role="alert">
                  A user has been updated successfully.
                  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </p>
          </div>
          <div th:if="${param.delete_success}" class="col-sm-8">
              <p class="alert alert-info alert-dismissible fade show" role="alert">
                  A user has been deleted successfully.
                  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </p>
          </div>
      </div>

      <div th:switch="${users}">
          <div>
              <h2 th:case="null">THere are no users to display</h2>
          </div>
          <div th:case="*">

              <h2>All Users</h2>
              <div class="d-flex justify-content-end mb-3">
                  <a class="btn btn-dark" th:href="@{/register/registration-form}">Add User</a>
              </div>
              <table class="table table-bordered table-hover">
                  <thead>
                  <tr>
                      <th scope="col">Name</th>
                      <th scope="col">Email</th>
                      <th colspan="2">Actions</th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr th:each="user : ${users}">
                      <td th:text="${user.name}"></td>
                      <td th:text="${user.email}"></td>
                      <td><a href="#" class="btn btn-dark">Edit</a></td>
                      <td><a href="#" class="btn btn-danger">Delete</a></td>
                  </tr>
                  </tbody>
              </table>

          </div>
      </div>

      <div th:insert="~{layout/footer}"></div>
  </div>


</body>
</html>